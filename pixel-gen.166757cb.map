{"version":3,"sources":["classes/Pixel.js","helpers.js","resources/colors.js","classes/Canvas.js","index.js"],"names":["Pixel","coords","x","y","color","size","w","h","opacity","ctx","beginPath","rect","fillStyle","fill","range","start","end","Array","map","_","idx","randomFloat","n","Math","random","randNum","min","max","floor","roundToNearest","nearest","round","randIndex","arr","console","log","length","colors","Canvas","c","canvas","context","frameId","undefined","bgColor","palette","ppf","helpers","width","height","iterator","colorIndex","reverse","clear","pickRandomPalette","setInitialColors","animate","strokeStyle","fillRect","window","cancelAnimationFrame","clearRect","requestAnimationFrame","forEach","draw","randX","randY","object","init","dpiRatio","devicePixelRatio","document","querySelector","stop","img","imgNode","setCanvasSize","initial","innerWidth","style","convertToPng","png","toDataURL","createElement","id","src","body","appendChild","getContext","scale","canvasObj","addEventListener","removeChild","display","clearCanvas","innerText","stopCanvas"],"mappings":"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","file":"pixel-gen.166757cb.map","sourceRoot":"..","sourcesContent":["export default class Pixel {\n  constructor(\n    coords = { x: 1, y: 1 },\n    color = \"#000000\",\n    size = { w: 10, h: 10 }\n  ) {\n    this.x = coords.x;\n    this.y = coords.y;\n    this.w = size.w;\n    this.h = size.h;\n    this.opacity = 0;\n    this.color = color;\n  }\n  init(ctx) {\n    ctx.beginPath();\n    ctx.rect(this.x, this.y, this.w, this.h);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    return {\n      x: this.x,\n      y: this.y,\n      w: this.w,\n      h: this.h\n    };\n  }\n}\n","export function range(start, end) {\n  return Array(end - start + 1)\n    .fill()\n    .map((_, idx) => start + idx);\n}\n\nexport const randomFloat = n => Math.random();\n\nexport function randNum(min = 0, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nexport function roundToNearest(n, nearest) {\n  return Math.round(n / nearest) * nearest;\n}\n\nexport function randIndex(arr) {\n  console.log(\">>\", arr[Math.floor(Math.random() * arr.length)]);\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport default { randNum, randIndex, randomFloat, range, roundToNearest };\n","export const colors = [\n  [\"#084C61\", \"#DB504A\", \"#E3B505\", \"#4F6D7A\", \"#56A3A6\"],\n  [\"#BC201D\", \"#1F7B41\", \"#4DC697\", \"#FFD777\", \"#449FB7\"],\n  [\"#F52148\", \"#6D2F62\", \"#FA9464\", \"#567BF3\", \"#E54E1E\"],\n  [\"#4441fd\", \"#fb3a5e\", \"#fea13a\"],\n  [\"#E3E3E3\", \"#CACACA\", \"#A8A8A8\", \"#939393\"],\n  [\"##42CE68\", \"#4EBD2D\", \"#75DE56\", \"#A5EC91\", \"#3A8226\"],\n  [\"#5C8EE7\", \"#3E75D6\", \"#275EBF\", \"#88B2FD\", \"#2052A9\"],\n  [\"#F54D20\", \"#FF734E\", \"#FF9C81\", \"#B82800\", \"#F85C31\"],\n  [\"#FFD6F6\", \"#F6ADE6\", \"#DE75C7\", \"#FF59DB\"]\n];\n\nexport default colors;\n","import Pixel from \"./Pixel\";\nimport helpers from \"../helpers\";\nimport { colors } from \"../resources/colors\";\n\nexport default class Canvas {\n  constructor(c, canvas) {\n    this.context = c;\n    this.frameId = undefined;\n    this.canvas = canvas;\n    this.bgColor = \"#282828\";\n    this.colors = colors;\n    this.palette = [];\n    this.ppf = helpers.range(0, 10); // pixel per frame\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.iterator = 0;\n    this.colorIndex = 0;\n    this.reverse = false;\n    this.clear = false;\n  }\n\n  init(c) {\n    this.palette = this.pickRandomPalette(this.colors);\n    this.setInitialColors(c);\n    this.animate(c);\n  }\n\n  pickRandomPalette(colors) {\n    return helpers.randIndex(colors);\n  }\n\n  setInitialColors(c) {\n    c.strokeStyle = this.palette[this.palette.length - 1];\n    c.fillStyle = \"white\";\n    c.fillRect(0, 0, this.width, this.height);\n  }\n\n  clearCanvas(c) {\n    // set clear flag to 'true' to restart 'generator' loop\n    this.clear = true;\n    window.cancelAnimationFrame(this.frameId);\n    this.iterator = 0;\n    c.clearRect(0, 0, this.width, this.height);\n    this.setInitialColors(c);\n  }\n\n  stopCanvas(c) {\n    window.cancelAnimationFrame(this.frameId);\n  }\n\n  animate(c) {\n    let self = () => this.animate(c);\n    this.frameId = requestAnimationFrame(self);\n    // pixel per frame\n    this.ppf.forEach(() => {\n      let object = this.draw(c);\n    });\n  }\n\n  draw(ctx) {\n    let randX = helpers.randNum(0, this.width);\n    let randY = helpers.randNum(0, this.height);\n    let pixel;\n    let object;\n    let coords = {\n      x: helpers.roundToNearest(randX, 10),\n      y: helpers.roundToNearest(randY, 10)\n    };\n    pixel = new Pixel(\n      coords,\n      this.palette[Math.floor(Math.random() * this.palette.length)]\n    );\n    object = pixel.init(ctx);\n    return object;\n  }\n}\n","import Canvas from \"./classes/Canvas\";\nimport { roundToNearest } from \"./helpers\";\n\nconst dpiRatio = window.devicePixelRatio;\nconst canvas = document.querySelector(\"#canvas\");\nconst start = document.querySelector(\"#start\");\nconst stop = document.querySelector(\"#stop\");\nconst img = document.querySelector(\"#canvas-png\");\nlet imgNode = \"\";\n\nfunction setCanvasSize() {\n  let initial;\n  if (window.innerWidth <= 500) {\n    initial = roundToNearest(window.innerWidth, 20);\n    canvas.height = initial;\n    canvas.width = initial / 2;\n    canvas.style.height = canvas.height + \"px\";\n    canvas.style.width = canvas.width + \"px\";\n  } else {\n    initial = 1000;\n    canvas.height = initial / 2;\n    canvas.width = initial;\n    canvas.style.height = initial / 3 + \"px\";\n    canvas.style.width = initial / 1.5 + \"px\";\n  }\n}\n\nfunction convertToPng() {\n  const png = canvas.toDataURL(\"image/png\");\n  imgNode = document.createElement(\"img\");\n  imgNode.id = \"canvas-png\";\n  imgNode.src = png;\n  document.body.appendChild(imgNode);\n}\n\nsetCanvasSize();\n\nlet c = canvas.getContext(\"2d\");\nc.scale(dpiRatio, dpiRatio);\n\nlet canvasObj = new Canvas(c, canvas);\n\nstart.addEventListener(\"click\", () => {\n  if (document.querySelector(\"#canvas-png\")) {\n    document.body.removeChild(imgNode);\n    document.querySelector(\"#message\").style.display = \"none\";\n    canvas.style.display = \"block\";\n  }\n  canvasObj.clearCanvas(c);\n  canvasObj.init(c);\n  start.innerText = \"restart\";\n});\n\nstop.addEventListener(\"click\", () => {\n  canvasObj.stopCanvas(c);\n  if (!document.querySelector(\"#canvas-png\")) {\n    convertToPng();\n  }\n  document.querySelector(\"#message\").style.display = \"block\";\n  canvas.style.display = \"none\";\n});\n"]}