{"version":3,"sources":["classes/Pixel.js","helpers.js","resources/colors.js","classes/Canvas.js","index.js"],"names":["Pixel","coords","x","y","color","size","w","h","opacity","ctx","beginPath","rect","fillStyle","fill","range","start","end","Array","map","_","idx","randomFloat","n","Math","random","randNum","min","max","floor","roundToNearest","nearest","round","randIndex","arr","console","log","length","colors","Canvas","c","canvas","spp","context","frameId","undefined","bgColor","palette","ppf","helpers","width","height","iterator","colorIndex","reverse","clear","pickRandomPalette","setInitialColors","animate","strokeStyle","fillRect","window","cancelAnimationFrame","clearRect","self","requestAnimationFrame","forEach","object","draw","randX","randY","pixel","init","dpiRatio","devicePixelRatio","document","querySelector","stop","setCanvasSize","initial","innerWidth","style","convertToPng","pngData","toDataURL","location","href","replace","getContext","scale","canvasObj","addEventListener","clearCanvas","innerText","download","removeEventListener","classList","remove","add","stopCanvas"],"mappings":"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","file":"pixel-gen.e31bb0bc.map","sourceRoot":"..","sourcesContent":["export default class Pixel {\n  constructor(\n    coords = { x: 1, y: 1 },\n    color = \"#000000\",\n    size = { w: 10, h: 10 }\n  ) {\n    this.x = coords.x;\n    this.y = coords.y;\n    this.w = size.w;\n    this.h = size.h;\n    this.opacity = 0;\n    this.color = color;\n  }\n  init(ctx) {\n    ctx.beginPath();\n    ctx.rect(this.x, this.y, this.w, this.h);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    return {\n      x: this.x,\n      y: this.y,\n      w: this.w,\n      h: this.h\n    };\n  }\n}\n","export function range(start, end) {\n  return Array(end - start + 1)\n    .fill()\n    .map((_, idx) => start + idx);\n}\n\nexport const randomFloat = n => Math.random();\n\nexport function randNum(min = 0, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nexport function roundToNearest(n, nearest) {\n  return Math.round(n / nearest) * nearest;\n}\n\nexport function randIndex(arr) {\n  console.log(\">>\", arr[Math.floor(Math.random() * arr.length)]);\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport default { randNum, randIndex, randomFloat, range, roundToNearest };\n","export const colors = [\n  [\"#084C61\", \"#DB504A\", \"#E3B505\", \"#4F6D7A\", \"#56A3A6\"],\n  [\"#BC201D\", \"#1F7B41\", \"#4DC697\", \"#FFD777\", \"#449FB7\"],\n  [\"#F52148\", \"#6D2F62\", \"#FA9464\", \"#567BF3\", \"#E54E1E\"],\n  [\"#4441fd\", \"#fb3a5e\", \"#fea13a\"],\n  [\"#E3E3E3\", \"#CACACA\", \"#A8A8A8\", \"#939393\"],\n  [\"##42CE68\", \"#4EBD2D\", \"#75DE56\", \"#A5EC91\", \"#3A8226\"],\n  [\"#5C8EE7\", \"#3E75D6\", \"#275EBF\", \"#88B2FD\", \"#2052A9\"],\n  [\"#F54D20\", \"#FF734E\", \"#FF9C81\", \"#B82800\", \"#F85C31\"],\n  [\"#FFD6F6\", \"#F6ADE6\", \"#DE75C7\", \"#FF59DB\"]\n];\n\nexport default colors;\n","import Pixel from \"./Pixel\";\nimport helpers from \"../helpers\";\nimport { colors } from \"../resources/colors\";\n\nexport default class Canvas {\n  constructor(c, canvas, spp = 10) {\n    this.context = c;\n    this.frameId = undefined;\n    this.canvas = canvas;\n    this.bgColor = \"#282828\";\n    this.colors = colors;\n    this.palette = [];\n    this.ppf = helpers.range(0, 20); // pixel per frame\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.iterator = 0;\n    this.colorIndex = 0;\n    this.reverse = false;\n    this.clear = false;\n    this.spp = spp; // size per pixel\n  }\n\n  init(c) {\n    this.palette = this.pickRandomPalette(this.colors);\n    this.setInitialColors(c);\n    this.animate(c);\n  }\n\n  pickRandomPalette(colors) {\n    return helpers.randIndex(colors);\n  }\n\n  setInitialColors(c) {\n    c.strokeStyle = this.palette[this.palette.length - 1];\n    c.fillStyle = \"white\";\n    c.fillRect(0, 0, this.width, this.height);\n  }\n\n  clearCanvas(c) {\n    // set clear flag to 'true' to restart 'generator' loop\n    this.clear = true;\n    window.cancelAnimationFrame(this.frameId);\n    this.iterator = 0;\n    c.clearRect(0, 0, this.width, this.height);\n    this.setInitialColors(c);\n  }\n\n  stopCanvas(c) {\n    window.cancelAnimationFrame(this.frameId);\n  }\n\n  animate(c) {\n    let self = () => this.animate(c);\n    this.frameId = requestAnimationFrame(self);\n    // pixel per frame\n    this.ppf.forEach(() => {\n      let object = this.draw(c);\n    });\n  }\n\n  draw(ctx) {\n    let randX = helpers.randNum(0, this.width);\n    let randY = helpers.randNum(0, this.height);\n    let pixel;\n    let object;\n    let coords = {\n      x: helpers.roundToNearest(randX, this.spp),\n      y: helpers.roundToNearest(randY, this.spp)\n    };\n    let size = {\n      w: this.spp,\n      h: this.spp\n    };\n    pixel = new Pixel(\n      coords,\n      this.palette[Math.floor(Math.random() * this.palette.length)],\n      size\n    );\n    object = pixel.init(ctx);\n    return object;\n  }\n}\n","import Canvas from \"./classes/Canvas\";\nimport { roundToNearest } from \"./helpers\";\n\nconst dpiRatio = window.devicePixelRatio;\nconst canvas = document.querySelector(\"#canvas\");\nconst start = document.querySelector(\"#start\");\nconst stop = document.querySelector(\"#stop\");\n\nfunction setCanvasSize() {\n  let initial;\n  if (window.innerWidth <= 500) {\n    initial = 420;\n    canvas.height = initial;\n    canvas.width = initial / 2;\n    canvas.style.height = canvas.height + \"px\";\n    canvas.style.width = canvas.width + \"px\";\n    return 5;\n  } else {\n    initial = 1000;\n    canvas.height = initial / 2;\n    canvas.width = initial;\n    canvas.style.height = initial / 3 + \"px\";\n    canvas.style.width = initial / 1.5 + \"px\";\n    return 10;\n  }\n}\n\nfunction convertToPng() {\n  const pngData = canvas.toDataURL(\"image/png\");\n  window.location.href = pngData.replace(\n    /^data:image\\/[^;]/,\n    \"data:application/pixel-gen\"\n  );\n}\n\nconst spp = setCanvasSize();\n\nlet c = canvas.getContext(\"2d\");\nc.scale(dpiRatio, dpiRatio);\n\nlet canvasObj = new Canvas(c, canvas, spp);\n\nstart.addEventListener(\"click\", () => {\n  canvasObj.clearCanvas(c);\n  canvasObj.init(c);\n  start.innerText = \"restart\";\n\n  const download = document.querySelector(\".download\");\n  if (download) {\n    download.removeEventListener(\"click\", convertToPng);\n    stop.classList.remove(\"download\");\n    stop.innerText = \"stop\";\n  }\n});\n\nstop.addEventListener(\"click\", () => {\n  stop.classList.add(\"download\");\n  stop.innerText = \"download?\";\n  canvasObj.stopCanvas(c);\n  document.querySelector(\".download\").addEventListener(\"click\", convertToPng);\n});\n"]}